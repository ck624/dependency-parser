Scripts for running and analyzing data
=====

parse.py
---
This script allows user to parse data from text file or stdin.
Usage: `parse.py [OPTIONS] MODEL INPUT_FILE OUTPUT_FILE`. Both `INPUT_FILE`
and `OUTPUT_FILE` can be treated as stdin/stdout by using `-` as argument value.

Available options:

Option | Description
------------ | -------------
--decoder-type | Type of the decoder used to convert scorings to dependency tree. Available values: greedy (default), nonproj (this is chu-liu-edmonds)
--lang | Which language to load from the model (default is first)
--batch-size | Batch size (default 16)
--input-is-conllu | Load `INPUT_FILE` as conllu files (reads gold pos tags)
--tag-char | OBSOLETE, used to override default word tag for older models
--mask-path | USED ONLY DURING EXPERIMENTS. Path to mask file used to disable some neurons

server.py
---
The server listens for incoming requests. After first request is sent the server waits at most
`TIMEOUT` time for other tasks to fill the queue. If it fails to fill the queue it
will be run on smaller batch size.
Run server by invoking `server.py [OPTIONS] MODEL_FILE`.

Availabls options:

Option | Description
------------ | -------------
--lang | Which language to choose from the model (default: first)
--port | Listening port (default 8888)
--logfile | Log to file
--queuesize | Size of the queue (default 16)
--timeout | Queue filling timeout, in seconds (default 0.5)

run.py
---
This script is used to train a new model. Sample usage is depicted in [`exp/dependency`](../exp/dependency/README.md).

eval.sh
---
This script is our main evaluation tool. It converts the input conllu file to list of sentences,
parses it and evals it using MaltEval tool. Usage:
    eval.sh MODEL INPUT_CONLLU_FILE "ADDITIONAL parameters for parse.py"
For examples see [`exp/dependency`](../exp/dependency/README.md)

Miscellaneous scripts
=====
compactor.py
----
This simple script deletes all unnecessary files from model file generated by `run.py train`

conll_to_sentences.py
----
Extracts sentences from conllu file

eval_connlu.sh
---
This script has the same usage as previous `eval.sh`. The only difference is
that here we work directly on conllu file which allow us to use models that takes gold pos-tags as
input. Do not use it until necessary.

